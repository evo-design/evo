# ##################################################################
# ### TYPE III TOXINâ€“ANTITOXIN SAMPLING AND ANALYSIS CONFIG      ###
# ##################################################################
#
# Pipeline stages:
#   1. Sample genomic contexts using Evo and save all sequences/FASTA files.
#   2. Predict ORFs with Prodigal and filter protein sequences (segmasker, length, partial ORFs).
#   3. Fold proteins with ESMFold and select high-confidence structures.
#   4. Run Tandem Repeat Finder (TRF) on DNA sequences associated with filtered proteins.
#   5. Fold TRF-derived regions into RNA, identify hairpins, and pair with proteins.
#   6. Compare RNA structures to reference datasets for qualitative assessment.
#
# Provide paths for prompts, the TRF binary, and any reference RNA structure CSVs.

###########################################
### 1. CORE INPUTS AND FILE LOCATIONS  ###
###########################################

input_prompts: ./sample_prompts/type_iii_ta_prompts.csv
output_dir: ./outputs/type_iii_ta
segmasker_path: /usr/local/bin/ncbi-blast-2.16.0+/bin/segmasker
trf_path: /home/username/trf_executable/trf
rna_structures_reference_csv: /large_experiments/hielab/adititm/semantic_mining_data/toxin_antitoxin/type_iii/rna_structs_exp_dummy.csv

##################################
### 2. GENERATION PARAMETERS   ###
##################################

model_name: evo-1.5-8k-base
n_tokens: 1500
temperature: 0.7
top_k: 4
batched: true
batch_size: 8
n_sample_per_prompt: 5

#################################################
### 3. FILTERING + FOLDING CONFIGURATION     ###
#################################################

rc_truth: false
return_both: false
filter_min_length: 50
filter_max_length: 400
filter_partial_bool: false
segmasker_threshold: 0.2
run_esm_fold: true
plddt_threshold: 0.3
ptm_threshold: 0.0

# Pfam/HMMER configuration for toxin domain filtering
hmmscan_pfam_db_path: /large_storage/hielab/userspace/adititm/pfam/Pfam-A.hmm
pfam_reference_hits_csv: /large_storage/hielab/userspace/adititm/semantic_mining_data/toxin_antitoxin/type_iii/wt/type_III_T_wt_hmm_hits.csv
pfam_evalue_threshold: 0.05

# cmscan Infernal configuration for antitoxin RNA family filtering
cmscan_model_paths:
  - /large_storage/hielab/userspace/adititm/semantic_mining_data/toxin_antitoxin/type_iii/wt/covariance_models/All_t3ta/cluster_AT253412.cm
cmscan_allowed_families_csv: /large_storage/hielab/userspace/adititm/semantic_mining_data/toxin_antitoxin/type_iii/rebuttal/ls2/250_350/250_350_t3ta_ls2_rfam_filtered_matches.csv

# Write TRF output table to CSV (set false to skip writing)
write_trf_to_csv: true
